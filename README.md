# gs-share-web

> 智能充电桩

## Build Setup

``` bash
# install dependencies
npm install

# serve with hot reload at localhost:8080
npm run dev

# build for production with minification
npm run build

# build for production and view the bundle analyzer report
npm run build --report
```

## 修改

### 2019-8-14
    1.修改登录页优化，若已获取到用户信息，直接到首页。
    2.修改提交支付时，选择充电口的刷新优化
    3.修改支付，新建微信订单，修改判断当前浏览器是微信内置浏览器还是普通浏览器
    4.修改充电详情，右上角刷新后，已充电时长数据为空，已修复
    5.退款接口修改
    6.修改ios浏览器上Date函数不兼容处理

***

### 2019-8-15
    1.修复登录页提示订单未支付，支付完成后跳转到支付成功，页面空白（没有存储用户信息）。
    2.支付成功页面，修改布局（按钮处于当前视窗底部）。
    3.多方登录导致用户token过期，清理本地存储，提示用户重新登录。
    4.获取已充电时间，定时器修改为一秒执行一次。
    5.修改充电时间已自动结束（非提前取消），右上角刷新，充电时间还在继续增加。
    6.首页订单有未支付订单，支付成功后，本地存储新订单覆盖前面的旧订单，页面显示最新订单数据。
 
***
### 2019-8-15 18:07
    1.修改圆形进度尺寸不兼容。
    2.修改首页支付成功页面，充电桩口号显示NaN。
    
***

### 2019-8-16
    1.支付成功页面，判断用 户是否已经完成订单支付处理。
    2.退款金额单位修改。（页面显示不正确）。
    3.充电桩口号显示NaN。
    4.充电详情页，充电口号不统一。

***

### 2019-8-16 18:17
    1.修改支付成功跳转问题

***

### 2019-8-19
    1.登录页面修改，点击获取验证码优化，点击之后静止在倒计时内重复点击。
    2.微信中途取消支付回到首页。
    3.新建订单未获取到充电口号，充电详情中充电口号显示NaN。
    4.页面接口请求拦截修改，没有获取用户信息，提示用户登录，跳转登录页。
    5.修复用户需重新登录时，localStrorage保留用户手机号码。

***

###2019-8-19 16:57
    1.充电详情圈圈修改。
    2.支付成功，未支付成功出现支付成功页面的闪现。


###接口修改：
    新建微信订单：
    1.常常报系统错误
    2.当多个用户同时新建同一个充电口时，也能新建、支付成功。

    订单退款：
    1.退款接口请求成功后，充电口状态恢复，这时重新提交订单，会返回有未完成订单（偶尔）


###2019-8-20
    1.支付完成，有时候没有到支付成功页面。（可能页面跳转过快，当时接口还未返回已支付完成的信息）。
    2.结束时间，个位补零。
    3.去掉data中传的token，页面请求接口给header中添加token
   
###2019-8-22
    多方同时新建订单测试
   
   
    
